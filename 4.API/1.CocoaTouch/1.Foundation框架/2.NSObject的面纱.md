## NSIObject面纱
[揭开NSObject面纱](http://www.cocoachina.com/ios/20140715/9142.html)
既然要深入学习objc，我们不妨从最熟悉的NSObject类开始，让我们来看一看它的源码吧！
NSObject.h这个头文件，我们很容易从Xcode中进入这个文件中。它被包含在Foundation/NSObject.h路径下。
![](/assets/API/NSObject的面纱1.png)

看了Foundation/NSObject.h这个头文件，我们就有点疑惑了，怎么这个头文件了没有NSObject类的定义啊，只是定义了@interface NSObject (NSCoderMethods) 和 @protocol NSCopying 等几个类别和协议。那么真正的NSObject的类定义在哪里呢？

是不是使用#import从其他文件中引入的呢？看看这个文件的第6行代码，果然发现了我们想找到的头文件定义。

![](/assets/API/NSObject的面纱.png)

#### isa指针
下面这个结构我们有点陌生，NSObject只有一个成员变量是Class类型的isa变量。那么Class类型又是什么东西呢？看命名应该是指所属的类。

我们发现Class就是一个结构体的指针而已。
![](/assets/API/NSObject的面纱2.png)

我们还需要在看看objc_class是个什么东西。
![](/assets/API/NSObject的面纱3.png)

可以看出来对于objc2和objc1的实现是不同的，我们现在只看objc2.0对应的版本，我们把objc 1.0的代码删掉，就只剩下如下结构了：
```obj
    struct objc_class { 
        Class isa; 
    }; 
```
真的是好简洁啊！
 
让我们再来对比一下NSObject的定义：

```obj
    @interface NSObject <NSObject> {
        Class isa;
    }
```









